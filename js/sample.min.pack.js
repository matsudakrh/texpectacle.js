!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";var n=i(2),a=document.getElementById("pluginName"),s=document.getElementById("animateType"),o=n(a),r=function(){a.setAttribute("data-text-animation",s.value),o.setScroll()};s.addEventListener("change",function(){r()});var l=document.getElementById("run");l.addEventListener("click",function(){r()}),r();var u=document.getElementById("howTitle"),c=n(u);c.setScroll();var m=document.getElementById("referenceTitle"),d=n(m);d.setScroll()},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,i,a){n(this,e),this.element=t,this.idName=this.element.id,this.getClassName(),this.getSize(),this.text=t.textContent,t.textContent="",this.insertText(),this.length=this.text.length,this.baseDuration=i,this.offsetTop=parseInt(a)/100}return a(e,[{key:"getClassName",value:function(){this.className=this.element.getAttribute("data-text-animation")||"fadeIn"}},{key:"setDuration",value:function(){var e=document.createElement("span");e.className=this.className,this.element.appendChild(e),this.getAnimationProperty(e),this.duration=1e3*this.baseDuration/this.length-1e3*this.animationDuration/this.length-1e3*this.animationDelay/this.length,this.duration-=Math.round(this.duration/this.length),this.element.removeChild(e)}},{key:"getSize",value:function(){this.size=this.element.getBoundingClientRect()}},{key:"judge",value:function(){this.size.top<=window.innerHeight*this.offsetTop&&this.size.top>=0&&(this.animation(),window.removeEventListener("resize",this.resizeFuncName),window.removeEventListener("scroll",this.scrollFuncName))}},{key:"getAnimationProperty",value:function(e){var t=window.getComputedStyle(e),i=t.animationDelay||t.webkitAnimationDelay,n=t.animationDuration||t.webkitAnimationDuration;this.animationDelay=parseFloat(i),this.animationDuration=parseFloat(n)}},{key:"insertText",value:function(){var e=this;this.element.innerHTML="";var t=document.c(),i=document.createElement("span");[].forEach.call(this.text,function(n){var a=i.cloneNode();a.innerHTML=e.escapeHTML(n),a.style.visibility="hidden",a.style.display="inline-block",a.setAttribute("data-content",a.textContent),a.addEventListener("animationend",function(){a=null}),t.appendChild(a)}),this.element.appendChild(t)}},{key:"animation",value:function(){var e=this;if(this.endTimer&&clearTimeout(this.endTimer),this.insertText(),this.index=0,this.getClassName(),this.setDuration(),this.duration<=this.animationDelay+this.animationDuration)return this.element.childNodes.forEach(function(t){t.style.visibility="visible",t.className=e.className}),this.endTimer&&clearTimeout(this.endTimer),void("function"==typeof this.endCallback&&(this.endTimer=setTimeout(function(){e.endCallback()},1e3*(this.animationDelay+this.animationDuration))));var t=function i(){var t=e.element.childNodes[e.index];return t.style.visibility="visible",t.className=e.className,e.index++,e.index>=e.length?(e.getAnimationProperty(t),void("function"==typeof e.endCallback&&(e.endTimer=setTimeout(function(){e.endCallback()},1e3*(e.animationDelay+e.animationDuration))))):(e.addClassTimer&&clearTimeout(e.addClassTimer),void(e.addClassTimer=setTimeout(function(){i()},e.duration)))};this.animationTimer&&clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){t(),"function"==typeof e.startCallback&&e.startCallback()},this.duration)}},{key:"setScroll",value:function(){var e=this;this.insertText();var t=!1,i=!1;this.resizeFuncName=this.idName+"-resize"+Date.now(),this.scrollFuncName=this.idName+"-scroll"+Date.now(),window.addEventListener("resize",this.resizeFuncName=function(){t&&clearTimeout(t),t=setTimeout(function(){e.judge()},200)}),window.addEventListener("scroll",this.scrollFuncName=function(){i&&clearTimeout(i),i=setTimeout(function(){e.getSize(),e.judge()},40)}),this.judge()}},{key:"escapeHTML",value:function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#39;"),e=e.replace(/ /g,"&nbsp;"),e=e.replace(/ã€€/g,"&emsp;")}}]),e}(),o=function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],i=arguments.length<=2||void 0===arguments[2]?80:arguments[2];return i<20?i=20:i>100?i=100:isNaN(i)&&(i=80),isNaN(t)&&(t=2),new s(e,t,i)};e.exports=o}]);