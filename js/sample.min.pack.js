!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var i=n(2),a=document.getElementById("pluginName"),o=document.getElementById("animateType"),s=i(a),r=function(){a.setAttribute("data-text-animation",o.value),s.animation()};o.addEventListener("change",function(){r()});var l=document.getElementById("run");l.addEventListener("click",function(){r()});var u=document.getElementById("howTitle"),c=i(u),m=document.getElementById("referenceTitle"),d=i(m);window.addEventListener("load",function(){s.setScroll(),d.setScroll(),c.setScroll()})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,a){i(this,e),this.element=t,this.idName=this.element.id,this.getClassName(),this.getSize(),this.text=t.textContent,t.textContent="",this.insertText(),this.length=this.text.length,this.baseDuration=n,this.setDuration(),this.offsetTop=parseInt(a,10)/100}return a(e,[{key:"getClassName",value:function(){this.className=this.element.getAttribute("data-text-animation")||"fadeIn"}},{key:"setDuration",value:function(){var e=document.createElement("span");e.className=this.className,this.element.appendChild(e),this.getAnimationProperty(e),this.element.removeChild(e);var t=this.baseDuration-this.animationDuration,n=t/this.length*1e3;this.duration=Math.round(n-n/this.length)}},{key:"getSize",value:function(){this.size=this.element.getBoundingClientRect()}},{key:"judge",value:function(){this.size.top<=window.innerHeight*this.offsetTop&&this.size.top>=0&&this.animation()}},{key:"getAnimationProperty",value:function(e){var t=window.getComputedStyle(e),n=t.animationDelay||t.webkitAnimationDelay,i=t.animationDuration||t.webkitAnimationDuration;this.animationDelay=parseFloat(n),this.animationDuration=parseFloat(i)}},{key:"insertText",value:function(){var e=this;this.element.innerHTML="";var t=document.createDocumentFragment(),n=document.createElement("span");[].forEach.call(this.text,function(i){var a=n.cloneNode();a.innerHTML=e.escapeHTML(i),a.style.visibility="hidden",a.style.display="inline-block",a.setAttribute("data-content",a.textContent),a.addEventListener("animationend",function(){a=null}),t.appendChild(a)}),this.element.appendChild(t)}},{key:"animation",value:function(){var e=this;if(window.removeEventListener("resize",this.resizeFuncName),window.removeEventListener("scroll",this.scrollFuncName),this.endTimer&&clearTimeout(this.endTimer),this.addClassTimer&&clearTimeout(this.addClassTimer),this.getClassName(),this.insertText(),this.targetIndex=0,this.setDuration(),this.duration<=this.animationDelay+this.animationDuration)return this.element.childNodes.forEach(function(t){t.style.visibility="visible",t.className=e.className}),void("function"==typeof this.endCallback&&(this.endTimer=setTimeout(function(){e.endCallback()},1e3*(this.animationDelay+this.animationDuration))));var t=function n(){var t=e.element.childNodes[e.targetIndex];return t.style.visibility="visible",t.className=e.className,e.targetIndex++,e.targetIndex>=e.length?void("function"==typeof e.endCallback&&(e.getAnimationProperty(t),e.endTimer=setTimeout(function(){e.endCallback()},1e3*(e.animationDelay+e.animationDuration)))):void(e.addClassTimer=setTimeout(function(){n()},e.duration))};this.animationTimer&&clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){t(),"function"==typeof e.startCallback&&e.startCallback()},this.duration)}},{key:"setScroll",value:function(){var e=this;this.insertText();var t=!1,n=!1;window.addEventListener("resize",this.resizeFuncName=function(){t&&clearTimeout(t),t=setTimeout(function(){e.judge()},200)}),window.addEventListener("scroll",this.scrollFuncName=function(){n&&clearTimeout(n),n=setTimeout(function(){e.getSize(),e.judge()},40)}),this.judge()}},{key:"escapeHTML",value:function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#39;"),e=e.replace(/ /g,"&nbsp;"),e=e.replace(/ã€€/g,"&emsp;")}}]),e}(),s=function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],n=arguments.length<=2||void 0===arguments[2]?90:arguments[2],i=parseInt(n,10);return i<20?i=20:i>100?i=100:i||(i=90),isNaN(t)&&(t=2),new o(e,t,i)};e.exports=s}]);